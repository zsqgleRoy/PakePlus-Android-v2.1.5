import{d as T,u as x,o as B,c as a,a as s,b as l,F as p,r as _,e as N,f as W,g as h,h as v,i as n,j as z,k as E,t as g,n as H}from"./index-Bxm5ulBn.js";import{g as q,c as D,a as F}from"./format-BrnGdaLm.js";import{T as R}from"./TabBar-UtocW8wr.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"home-page page-container"},b={class:"search-section"},j={key:0,class:"section"},A={class:"hot-grid"},K=["onClick"],L={class:"hot-icon"},M=["src","alt"],G={class:"hot-name"},J={class:"section"},O={class:"category-grid"},P=["onClick"],Q={class:"category-name"},X=T({__name:"Home",setup(Y){const r=z(),d=x(),c=h(""),i=h([]);B(()=>{i.value=q(),d.initTheme()});const m=o=>F(o),k=o=>{const t=o.target;t.style.display="none"},y=()=>{c.value.trim()&&r.push({path:"/search",query:{keyword:c.value}})},f=()=>{r.push("/search")},C=o=>{d.addVisitRecord({websiteId:o.id,websiteName:o.name,websiteUrl:o.url,visitTime:Date.now()}),window.open(o.url,"_blank")},S=o=>{r.push({path:"/category",query:{category:o}})};return(o,t)=>{const V=v("van-search"),u=v("van-icon");return n(),a("div",$,[s("div",b,[l(V,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),placeholder:"搜索网站名称或描述",shape:"round",onSearch:y,onClickInput:f,readonly:""},null,8,["modelValue"])]),i.value.length>0?(n(),a("div",j,[t[1]||(t[1]=s("div",{class:"section-title"},"常用网站",-1)),s("div",A,[(n(!0),a(p,null,_(i.value,e=>(n(),a("div",{key:e.id,class:"hot-item",onClick:I=>C(e)},[s("div",L,[e.icon||m(e.url)?(n(),a("img",{key:0,src:e.icon||m(e.url),alt:e.name,onError:k},null,40,M)):(n(),E(u,{key:1,name:"link-o",size:"24px"}))]),s("div",G,g(e.name),1)],8,K))),128))])])):N("",!0),s("div",J,[t[2]||(t[2]=s("div",{class:"section-title"},"网站分类",-1)),s("div",O,[(n(!0),a(p,null,_(W(D),e=>(n(),a("div",{key:e.id,class:"category-item",onClick:I=>S(e.id)},[s("div",{class:"category-icon",style:H({backgroundColor:e.color+"20",color:e.color})},[l(u,{name:e.icon||"apps-o",size:"24px"},null,8,["name"])],4),s("div",Q,g(e.name),1)],8,P))),128))])]),l(R)])}}}),se=U(X,[["__scopeId","data-v-54001e07"]]);export{se as default};
